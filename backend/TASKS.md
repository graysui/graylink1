# GrayLink 后端关键任务

## 1. 认证模块
- [x] 创建 auth.py 处理器
- [x] 实现用户模型
- [x] 实现 JWT 认证
- [x] 添加安全配置

## 2. 配置系统
- [x] 基础配置结构
- [x] 配置文件加载
- [ ] 配置验证和默认值
  - [x] 基础配置文件创建功能
  - [ ] 确保配置目录存在
  - [ ] 验证数据目录是否存在并创建
  - [ ] 验证必要的配置项（security.secret_key 等）
  - [ ] 确保文件权限正确

说明：
1. 配置文件不存在时自动创建默认配置
2. 验证关键目录和文件的存在性
3. 确保敏感配置项有合适的值

## 3. 数据库
- [x] 基础数据库配置
- [x] 用户表创建

## 4. API 处理器修复
- [x] auth 处理器
- [ ] 检查前端 monitor API 调用并修复对应后端接口
- [ ] 检查前端 file API 调用并修复对应后端接口
- [ ] 检查前端 symlink API 调用并修复对应后端接口
- [ ] 检查前端 emby API 调用并修复对应后端接口
- [ ] 检查前端 gdrive API 调用并修复对应后端接口

## 5. 错误处理
- [ ] 根据前端错误处理方式统一后端响应格式

## 6. 日志
- [ ] 添加基本错误日志，方便排查问题

## 优先级任务
1. 完善配置验证，确保默认配置文件正确创建
2. 修复后端 API 接口与前端调用不匹配的问题
3. 统一错误响应格式
4. 添加错误日志

## 遇到的问题
1. auth 模块缺失导致的导入错误
2. 配置文件验证缺失可能导致运行时错误
3. 后端接口与前端调用不匹配

## 下一步计划
1. 完善配置验证功能
2. 检查前端 monitor API 的具体调用方式
3. 修复后端 monitor 接口以匹配前端调用 